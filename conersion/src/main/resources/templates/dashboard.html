<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>File Upload Dashboard</title>

    <style>
        /* ---------- Global ---------- */
body {
    font-family: "Inter", Arial, sans-serif;
    background: #f5f7fa;
    margin: 0;
    padding: 30px;
    color: #333;
}

h2 {
    text-align: center;
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 25px;
}
.success-box p{
    text-align: center;
    color: green;
    font-weight: 600;
    font-size: larger;

}



/* ---------- Upload Box ---------- */
.upload-box {
    background: #ffffff;
    width: 70%;
    margin: 0 auto;
    padding: 35px 30px;
    border-radius: 10px;
    border: 1px solid #dce1e7;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    text-align: center;
}

/* File input */
input[type="file"] {
    padding: 12px;
    border: 1px solid #cdd3db;
    background: #fff;
    border-radius: 6px;
    width: 260px;
    font-size: 14px;
}

/* Upload button */
.btn-upload {
    background: #0d6efd;
    color: #fff;
    padding: 12px 28px;
    border-radius: 6px;
    border: none;
    font-size: 15px;
    cursor: pointer;
    margin-top: 20px;
}

.btn-upload:hover {
    background: #0b5ed7;
}

/* ---------- Table ---------- */
table {
    width: 80%;
    margin: 20px auto;
    background: #fff;
    border-collapse: collapse;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #dfe4ea;
}

th {
    background: #0d6efd;
    color: white;
    padding: 14px;
    font-size: 15px;
    text-align: left;
}

td {
    padding: 14px;
    border-bottom: 1px solid #ebeef2;
    font-size: 14px;
}

/* Hover row */
table tr:hover td {
    background: #f3f7ff;
}

/* ---------- ACTION BUTTONS (Updated) ---------- */
.btn-download,
.btn-delete {
    display: inline-block;
    font-size: 14px;
    padding: 10px 18px;          /* Bigger size */
    border-radius: 6px;
    font-weight: 500;
    text-decoration: none;
    color: #fff;
    transition: 0.2s ease-in-out;
}

/* Download button */
.btn-download {
    background: #198754;          /* Bootstrap green */
}

.btn-download:hover {
    background: #157347;
}

/* Delete button */
.btn-delete {
    background: #dc3545;          /* Bootstrap red */
}

.btn-delete:hover {
    background: #bb2d3b;
}

/* ---------- Responsive ---------- */
@media (max-width: 900px) {
    table {
        width: 95%;
    }

    .upload-box {
        width: 90%;
    }

    input[type="file"] {
        width: 100%;
    }
}

@media (max-width: 480px) {

    .btn-download,
    .btn-delete {
        display: block;
        width: 100%;
        text-align: center;
        margin-bottom: 8px;
    }

    td, th {
        font-size: 12px;
        padding: 12px;
    }

    .btn-upload {
        width: 100%;
    }
}

    </style>
</head>

<body>

<h2>üìÅ File Upload Dashboard </h2>

<div th:if="${message}" class="success-box">
    <p th:text="${message}" classs="UDMessage"></p>
</div>

<div class="upload-box">
    <h3>Select a file to upload</h3>

    <form action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" required>
              <p>Upload File Max 100 MB</p>
        <br><br>
        <button type="submit" class="btn-upload">Upload File</button>
    </form>
</div>

<h3 style="margin-left: 150px;">Uploaded Files</h3>

<table>
    <tr>
        <th>File Name</th>
        <th>Uploaded Time</th>
        <th>Actions</th>
    </tr>

    <tr th:each="f : ${files}">
        <td th:text="${f.fileName}"></td>
        <td th:text="${#temporals.format(f.uploadTime, 'dd-MM-yyyy HH:mm:ss')}"></td>

        <td>
            <a th:href="@{'/download/' + ${f.id}}" class="btn-download">Download</a>
            &nbsp;
            <a th:href="@{'/delete/' + ${f.id}}" class="btn-delete"
               onclick="return confirm('Delete this file?')">Delete</a>
        </td>
    </tr>
</table>

</body>
</html>
